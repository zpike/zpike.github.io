<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>XML 文件介绍 · SPIKE</title><meta name="description" content="XML 文件介绍 - Spike Joe"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/gandalfr.css"><link rel="stylesheet" href="https://highlightjs.org/static/demo/styles/solarized-light.css"><link rel="search" type="application/opensearchdescription+xml" href="http://spikezz.com/atom.xml" title="SPIKE"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.ico" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/zpike" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="https://twitter.com/zshe404" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">XML 文件介绍</h1><div class="tags"><a href="/tags/xml/" class="tag-title">#xml</a></div><div class="post-info">May 1, 2016</div><div class="post-content"><p><img src="http://oc1hnrd8p.bkt.clouddn.com/photos/20170309/094640412.jpg" alt="mark"></p>
<p><code>XML</code>(<code>Extensible Markup Language</code>)是一套资料存储工具，可以用來建立包含结构化格式资料的文件。除了资料之外，还可以包含一組定义资料架构的详细规则。这些规则是由 XML 文件的作者负责定义。</p>
<a id="more"></a>
<h2 id="XML基础"><a href="#XML基础" class="headerlink" title="XML基础"></a>XML基础</h2><p><code>XML</code> 指可扩展标记语言，XML的目的是为了传输数据的内容，重点是数据内容，而HTML是用来显示数据，重点是数据的外观。XML文件结构如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"ISO-8859-1"</span><span class="meta">?&gt;</span></span></div><div class="line"><span class="tag">&lt;<span class="name">note</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">to</span>&gt;</span>Tove<span class="tag">&lt;/<span class="name">to</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">from</span>&gt;</span>Jani<span class="tag">&lt;/<span class="name">from</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">heading</span>&gt;</span>Reminder<span class="tag">&lt;/<span class="name">heading</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span>Don't forget me this weekend!<span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">note</span>&gt;</span></div></pre></td></tr></table></figure>
<p>上面的这条便签具有自我描述性。它包含了发送者和接受者的信息，同时拥有标题以及消息主体。<br>但是，这个 XML 文档仍然没有做任何事情。它仅仅是包装在 XML 标签中的纯粹的信息。我们需要编写软件或者程序，才能传送、接收和显示出这个文档。</p>
<p>上面实例中的标签没有在任何 XML 标准中定义过（比如 <code>&lt;to&gt;</code> 和 <code>&lt;from&gt;</code>）。这些标签是由 XML 文档的创作者发明的。这是因为 XML 语言没有预定义的标签。<br>而HTML 中使用的标签都是预定义的。HTML 文档只能使用在 HTML 标准中定义过的标签（如 <code>&lt;p&gt;</code>、<code>&lt;h1&gt;</code> 等等）。<br>XML 允许创作者定义自己的标签和自己的文档结构。</p>
<p>XML 是独立于软件和硬件的信息传输工具。XML是各种应用程序之间进行数据传输的最常用的工具。</p>
<p>XML 数据以纯文本格式进行存储，因此提供了一种独立于软件和硬件的数据存储方法。这让创建不同应用程序可以共享的数据变得更加容易。</p>
<h2 id="XML-文件结构"><a href="#XML-文件结构" class="headerlink" title="XML 文件结构"></a>XML 文件结构</h2><p>XML 文档形成了一种树结构，它从”根部”开始，然后扩展到”枝叶”。</p>
<p>结构如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;root&gt;</div><div class="line">&lt;child&gt;</div><div class="line">&lt;subchild&gt;.....&lt;/subchild&gt;</div><div class="line">&lt;/child&gt;</div><div class="line">&lt;/root&gt;</div></pre></td></tr></table></figure></p>
<p>XML 文档必须包含根元素。该元素是所有其他元素的父元素。</p>
<p>XML 文档中的元素形成了一棵文档树。这棵树从根部开始，并扩展到树的最底端。</p>
<p>XML文件结构如下：</p>
<p><img src="http://oc1hnrd8p.bkt.clouddn.com/photos/20170309/095647403.gif" alt="mark"></p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&lt;bookstore&gt;</div><div class="line"></div><div class="line">&lt;book category=&quot;COOKING&quot;&gt;</div><div class="line">&lt;title lang=&quot;en&quot;&gt;Everyday Italian&lt;/title&gt;</div><div class="line">&lt;author&gt;Giada De Laurentiis&lt;/author&gt;</div><div class="line">&lt;year&gt;2005&lt;/year&gt;</div><div class="line">&lt;price&gt;30.00&lt;/price&gt;</div><div class="line">&lt;/book&gt;</div><div class="line"></div><div class="line">&lt;book category=&quot;CHILDREN&quot;&gt;</div><div class="line">&lt;title lang=&quot;en&quot;&gt;Harry Potter&lt;/title&gt;</div><div class="line">&lt;author&gt;J K. Rowling&lt;/author&gt;</div><div class="line">&lt;year&gt;2005&lt;/year&gt;</div><div class="line">&lt;price&gt;29.99&lt;/price&gt;</div><div class="line">&lt;/book&gt;</div><div class="line"></div><div class="line">&lt;book category=&quot;WEB&quot;&gt;</div><div class="line">&lt;title lang=&quot;en&quot;&gt;Learning XML&lt;/title&gt;</div><div class="line">&lt;author&gt;Erik T. Ray&lt;/author&gt;</div><div class="line">&lt;year&gt;2003&lt;/year&gt;</div><div class="line">&lt;price&gt;39.95&lt;/price&gt;</div><div class="line">&lt;/book&gt;</div><div class="line"></div><div class="line">&lt;/bookstore&gt;</div></pre></td></tr></table></figure>
<p>实例中的根元素是 <code>&lt;bookstore&gt;</code>。文档中的所有 <code>&lt;book&gt;</code> 元素都被包含在<code>&lt;bookstore&gt;</code> 中。<br><code>&lt;book&gt;</code> 元素有 4 个子元素：<code>&lt;title&gt;</code>、<code>&lt;author&gt;</code>、<code>&lt;year&gt;</code>、<code>&lt;price&gt;</code>。</p>
<p>所有的 XML 元素都必须有一个关闭标签，在 XML 中，省略关闭标签是非法的。</p>
<p>在 XML 中，所有元素都必须彼此正确地嵌套：<br><code>&lt;b&gt;&lt;i&gt;This text is bold and italic&lt;/i&gt;&lt;/b&gt;</code><br>在上面的实例中，正确嵌套的意思是：由于 <code>&lt;i&gt;</code> 元素是在 <code>&lt;b&gt;</code> 元素内打开的，那么它必须在 <code>&lt;b&gt;</code> 元素内关闭。</p>
<h2 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h2><p>XML 文档经常有一个对应的数据库，其中的字段会对应 XML 文档中的元素。有一个实用的经验，即使用数据库的命名规则来命名 XML 文档中的元素。</p>
<p>不同xml文件中可能有相同的命名，引用时容易冲突，需要在命名之前添加标记，以示区别。</p>
<h2 id="XML元素vs属性"><a href="#XML元素vs属性" class="headerlink" title="XML元素vs属性"></a>XML元素vs属性</h2><p>在XML中也可以像HTML中那样使用属性，但是更多的是使用元素，尽量避免使用属性，以提高文件的易用性。属性应该用来提供与数据无关的信息。</p>
<p>元数据（有关数据的数据）应当存储为属性，而数据本身应当存储为元素。</p>
<h2 id="语法规则："><a href="#语法规则：" class="headerlink" title="语法规则："></a>语法规则：</h2><ul>
<li>XML文档必须有一个根元素 </li>
<li>XML元素都必须有一个关闭标签 </li>
<li>XML标签对大小写敏感 </li>
<li>XML元素必须被正确的嵌套 </li>
<li>XML属性值必须加引号</li>
</ul>
<h2 id="XSLT"><a href="#XSLT" class="headerlink" title="XSLT"></a>XSLT</h2><p>XSL 指扩展样式表语言（EXtensible Stylesheet Language）, 它是一个 XML 文档的样式表语言。</p>
<p>通过使用 XSLT，您可以把 XML 文档转换成 HTML 格式。<br>XSLT 是在浏览器显示 XML 文件之前，先把它转换为 HTML。</p>
<h2 id="XML-DOM"><a href="#XML-DOM" class="headerlink" title="XML DOM"></a>XML DOM</h2><p>XML DOM定义访问和操作XML文档的标准方法。</p>
<p>所有元素可以通过DOM树来访问。可以修改或删除它们的内容，并创建新的元素。元素，它们的文本，以及它们的属性，都被认为是节点。</p>
<p>DOM中的 XMLHttpRequest函数非常有用。 </p>
<p>XMLHttpRequest 对象用于在后台与服务器交换数据。主要作用包括：</p>
<ul>
<li>在不重新加载页面的情况下更新网页</li>
<li>在页面已加载后从服务器请求数据</li>
<li>在页面已加载后从服务器接收数据</li>
<li>在后台向服务器发送数据</li>
</ul>
<p>更多XMLHttpRequest应用需学习XML DOM方面的知识。</p>
<p>所有现代浏览器都有内建的 XMLHttpRequest 对象。</p>
<p>创建 XMLHttpRequest 对象的语法：<br><code>xmlhttp=new XMLHttpRequest();</code></p>
<p>所有现代浏览器都有内建的 XML 解析器。</p>
<p>XML解析器把XML文档转换为XML DOM对象，然后就可以通过 JavaScript 操作的对象。</p>
<p>下面的实例把 XML 文档（”note.xml”）解析到 XML DOM 对象中，然后通过 JavaScript 提取一些信息：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>W3Cschool Internal Note<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span>To:<span class="tag">&lt;/<span class="name">b</span>&gt;</span> <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"to"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span>From:<span class="tag">&lt;/<span class="name">b</span>&gt;</span> <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"from"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span>Message:<span class="tag">&lt;/<span class="name">b</span>&gt;</span> <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"message"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line">if (window.XMLHttpRequest)</div><div class="line">  &#123;// code for IE7+, Firefox, Chrome, Opera, Safari</div><div class="line">  xmlhttp=new XMLHttpRequest();</div><div class="line">  &#125;</div><div class="line">else</div><div class="line">  &#123;// code for IE6, IE5</div><div class="line">  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");</div><div class="line">  &#125;</div><div class="line">xmlhttp.open("GET","note.xml",false);</div><div class="line">xmlhttp.send();</div><div class="line">xmlDoc=xmlhttp.responseXML;</div><div class="line"></div><div class="line">document.getElementById("to").innerHTML=</div><div class="line">xmlDoc.getElementsByTagName("to")[0].childNodes[0].nodeValue;</div><div class="line">document.getElementById("from").innerHTML=</div><div class="line">xmlDoc.getElementsByTagName("from")[0].childNodes[0].nodeValue;</div><div class="line">document.getElementById("message").innerHTML=</div><div class="line">xmlDoc.getElementsByTagName("body")[0].childNodes[0].nodeValue;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>如需从上面的 XML 文件（”note.xml”）的 <code>&lt;to&gt;</code> 元素中提取文本 “Tove”，语法是：<br><code>getElementsByTagName(&quot;to&quot;)[0].childNodes[0].nodeValue</code><br>请注意，即使 XML 文件只包含一个 <code>&lt;to&gt;</code> 元素，您仍然必须指定数组索引 [0]。这是因为 getElementsByTagName() 方法返回一个<strong>数组</strong>。</p>
<h2 id="XML-编码"><a href="#XML-编码" class="headerlink" title="XML 编码"></a>XML 编码</h2><p>XML文档可以包含非ASCII字符，为了避免错误，需要规定 XML 编码，或者将XML文件存为Unicode。</p>
<p>中文支持的的编码一般用utf-8:<br><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</code></p>
<h2 id="XML-总结"><a href="#XML-总结" class="headerlink" title="XML 总结"></a>XML 总结</h2><ul>
<li>XML 可用于交换、共享和存储数据。</li>
<li>XML 文档形成树状结构，在”根”和”叶子”的分支机构开始的。</li>
<li>XML 有非常简单的语法规则。带有正确语法的 XML 是”形式良好”的。有效的 XML 是针对 DTD 进行验证的。</li>
<li>XSLT 用于把 XML 转换为其他格式，比如 HTML。<br>所有现代的浏览器有一个内建的 XML 解析器，可读取和操作 XML。</li>
<li>DOM 定义了一个访问 XML 的标准方式。</li>
<li>XMLHttpRequest 对象提供了一个网页加载后与服务器进行通信的方式。</li>
<li>XML 命名空间提供了一种避免元素命名冲突的方法。</li>
</ul>
<hr>
</div></article></div></main><footer><div class="paginator"><a href="/2016/05/05/jquery-intro/" class="prev">PREV</a><a href="/2016/02/19/mcu-powerup/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'spikezhou';
var disqus_identifier = '2016/05/01/xml-intro/';
var disqus_title = 'XML 文件介绍';
var disqus_url = 'http://spikezz.com/2016/05/01/xml-intro/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//spikezhou.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2017 <a href="http://spikezz.com">Spike Joe</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/MikeCoder/hexo-theme-gandalfr" target="_blank">hexo-theme-gandalfr</a>.</p></div></footer></div><script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" crossorigin="anonymous"></script><script src="//cdn.bootcss.com/jquery/3.1.1/jquery.js" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script><script>$(document).ready(function() { $('pre').each(function(i, block) { hljs.highlightBlock(block); }); });</script></body></html>